<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="UTF-8">
        <script>
            var xhr;
            window.onload = function() {
                jsonp();
            }

            function jsonp() {
                var script = document.createElement('script');
                script.src = 'http://localhost:8080?callback=processCallback';
                document.body.appendChild(script);
            }

            function processCallback(data){
                process(data);
            }

            function process(newObject) {
                var jsonStr = JSON.stringify(newObject);
                document.getElementById('jsonContent').innerHTML = jsonStr;
                var objContainer = document.getElementById('jsonObject');
                var objCopy = JSON.parse(jsonStr);
                
                var prop;
                for (prop in objCopy) {
                    objContainer.appendChild(newLI("The new object has a " + prop + " property with value " + objCopy[prop]));
                }
            }
		
			function newLI(text) {
				var li = document.createElement('li');
				li.innerHTML = text;
				return li;
			}
        </script>
    </head>
    <body>
        <div id="jsonContent"></div>
		<ul id="jsonObject"></ul>
 </body>
</html>
